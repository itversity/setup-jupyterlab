
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Setup Ubuntu VM on GCP &#8212; My Jupyter Book</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">My Jupyter Book</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="setup_jupyterlab.html">
   Setup Jupyter Lab
  </a>
 </li>
</ul>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="02_setup_ubuntu_vm_on_gcp/01_setup_ubuntu_vm_on_gcp.html">
   Setup Ubuntu VM on GCP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_setup_postgres_database/01_setup_postgres_database.html">
   Setup Postgres Database
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/02_setup_ubuntu_vm_on_gcp.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/02_setup_ubuntu_vm_on_gcp.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#signing-up-for-gcp">
   Signing up for GCP
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#understanding-gcp-web-console">
   Understanding GCP Web Console
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overview-of-gcp-pricing">
   Overview of GCP Pricing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#provision-ubuntu-18-04-virtual-machine">
   Provision Ubuntu 18.04 Virtual Machine
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup-docker">
   Setup Docker
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validating-python">
   Validating Python
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup-jupyter-lab">
   Setup Jupyter Lab
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="setup-ubuntu-vm-on-gcp">
<h1>Setup Ubuntu VM on GCP<a class="headerlink" href="#setup-ubuntu-vm-on-gcp" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Signing up for GCP</p></li>
<li><p>Understanding GCP Web Console</p></li>
<li><p>Overview of GCP Pricing</p></li>
<li><p>Provision Ubuntu 18.04 Virtual Machine</p></li>
<li><p>Setup Docker</p></li>
<li><p>Validating Python</p></li>
<li><p>Setup Jupyter Lab</p></li>
</ul>
<p>You can access videos for this course module using <a class="reference external" href="https://www.youtube.com/playlist?list=PLf0swTFhTI8qOGXb3e6BmqHGQ-tnsP51q">Setup labs on Ubuntu 18.04 VM on GCP using Docker to learn Python and SQL</a></p>
<div class="section" id="signing-up-for-gcp">
<h2>Signing up for GCP<a class="headerlink" href="#signing-up-for-gcp" title="Permalink to this headline">¶</a></h2>
<p>GCP is one of the leading cloud provider. We will be primarily using it to get hands on with respect to several skills such as Linux, Python, SQL etc over the duration of this course as well as other courses.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/ETZJln4jtAo?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>Google provides USD 300 credit for one year to try out GCP.</p></li>
<li><p>Go to <a class="reference external" href="https://cloud.google.com">Google Cloud</a> and complete sign up process.</p></li>
<li><p>Make sure to avail USD 300 credit.</p></li>
<li><p>Once you complete the sign up process you will get access to Web Console of GCP.</p></li>
</ul>
</div>
<div class="section" id="understanding-gcp-web-console">
<h2>Understanding GCP Web Console<a class="headerlink" href="#understanding-gcp-web-console" title="Permalink to this headline">¶</a></h2>
<p>Let us have some basic idea about GCP Web Console.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/1OVHjHTkP3M?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>We can use GCP Web Console for managing Google Cloud Infrastructure. Here I am highlighting some of them.</p>
<ul>
<li><p>Provision Virtual Machines</p></li>
<li><p>Deploy Applications</p></li>
<li><p>Leverage Existing out of the box services</p></li>
</ul>
</li>
<li><p>We should also know how to get billing details. You can go to Billing Section and should be able review the credits.</p></li>
<li><p>For this section, we will be primarily focusing on these.</p>
<ul>
<li><p>Provision Virtual Machine</p></li>
<li><p>Stop and Start Virtual Machine</p></li>
<li><p>Make sure to configure firewalls for the virtual machine created.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview-of-gcp-pricing">
<h2>Overview of GCP Pricing<a class="headerlink" href="#overview-of-gcp-pricing" title="Permalink to this headline">¶</a></h2>
<p>It is very important to spend some time and understand the pricing of GCP for the virtual machine.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/qfUbPLsLQcQ?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>GCP Provides Pricing Calculator to estimate the cost.</p></li>
<li><p>Here is the configuration for our Virtual Machine.</p>
<ul>
<li><p>16 GB RAM</p></li>
<li><p>At least 4 core CPU</p></li>
<li><p>60 GB Storage</p></li>
</ul>
</li>
<li><p>For Storage, we will have fixed cost as long as it is provisioned.</p></li>
<li><p>For Virtual Machine (CPU and Memory), we will be paying only for the time for which the Virtual Machine is up and running.</p></li>
<li><p>Best Practices to get most out of the credit or to reduce the cost of using GCP.</p>
<ul>
<li><p>Ensure that you stop the Virtual Machine when you are not using.</p></li>
<li><p>Make sure to use static ip address (incurs a nominal fixed cost).</p></li>
<li><p>Make sure to open only those ports that are relevant to you (to avoid attacks).</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="provision-ubuntu-18-04-virtual-machine">
<h2>Provision Ubuntu 18.04 Virtual Machine<a class="headerlink" href="#provision-ubuntu-18-04-virtual-machine" title="Permalink to this headline">¶</a></h2>
<p>As we got GCP account and understood pricing, now it is time to provision Ubuntu 18.04 Virtual Machine.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/rLTbhSaXhSM?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>Setup Virtual Machine</p></li>
<li><p>Connect to Virtual Machine using Web Console.</p></li>
<li><p>Configure Static ip to the Virtual Machine so that the public ip does not change on reboot.</p></li>
</ul>
</div>
<div class="section" id="setup-docker">
<h2>Setup Docker<a class="headerlink" href="#setup-docker" title="Permalink to this headline">¶</a></h2>
<p>Let us setup docker. We will be using it to create Database required for this course.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/wP7BhXrJKR8?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>Go to this <a class="reference external" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-18-04">link</a> and follow the instructions to setup Docker.</p></li>
<li><p>Make sure to add the user to <code class="docutils literal notranslate"><span class="pre">docker</span></code> group so that we do not have to use <code class="docutils literal notranslate"><span class="pre">sudo</span></code> to manage Docker related components such as images, containers etc.</p></li>
<li><p>Let us validate docker by creating simple <strong>Hello World</strong> Container.</p></li>
<li><p>Here are the commands to setup docker and validate. Make sure to run these commands one at a time.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common -y
curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="p">|</span> sudo apt-key add -
sudo add-apt-repository <span class="s2">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable&quot;</span>
sudo apt update
apt-cache policy docker-ce
sudo apt install docker-ce -y

sudo systemctl status docker <span class="c1"># Validates that docker is started</span>

sudo usermod -aG docker <span class="si">${</span><span class="nv">USER</span><span class="si">}</span>

docker run hello-world
</pre></div>
</div>
</div>
<div class="section" id="validating-python">
<h2>Validating Python<a class="headerlink" href="#validating-python" title="Permalink to this headline">¶</a></h2>
<p>Let us validate Python on Ubuntu VM that is provisioned.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/L-72r4mxhZI?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>By default, Ubuntu 18.04 VM will have Python3 installed. You can run <code class="docutils literal notranslate"><span class="pre">python3</span></code> and launch Python CLI.</p></li>
<li><p>However, there might not be additional important modules such as pip, venv etc.</p></li>
<li><p>We need to validate and ensure that they are installed. If <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">venv</span></code> are not installed you can install them using these commands.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt install python3-pip -y
python3 -m pip install configparser

sudo apt install python3-venv -y
python3 -m venv testing
ls -ltr
rm -rf testing
</pre></div>
</div>
</div>
<div class="section" id="setup-jupyter-lab">
<h2>Setup Jupyter Lab<a class="headerlink" href="#setup-jupyter-lab" title="Permalink to this headline">¶</a></h2>
<p>Let us setup Jupyter Lab on Ubuntu VM. This will also facilitate you to understand firewall configuration in GCP.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html"><iframe width="560" height="315" src="https://www.youtube.com/embed/f4V6Gg3ybFw?rel=0&amp;controls=1&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
</div></div>
</div>
<ul class="simple">
<li><p>Create Python based virtual environment - <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">venv</span> <span class="pre">demojl</span></code></p></li>
<li><p>Activate virtual environment - <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">demojl/bin/activate</span></code></p></li>
<li><p>Install required dependencies for Jupyter Lab - <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">jupyterlab</span></code></p></li>
<li><p>Launch Jupyter Lab - <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">lab</span> <span class="pre">--ip</span> <span class="pre">0.0.0.0</span></code></p></li>
<li><p>At this time, you will not be able to access Jupyter Lab</p></li>
<li><p>Go to firewall and open the port using GCP Web Console</p></li>
<li><p>Now enter the ip address and port number to access the Jupyter Lab UI.</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>